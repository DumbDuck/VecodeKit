<!DOCTYPE html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content=" ">
    <title>Use the Exported Drawing Code in iOS/Mac Project | Vecode Help</title>
    <link rel="stylesheet" type="text/css" href="../css/syntax.css">
    <link rel="stylesheet" type="text/css" href="../css/font-awesome.min.css">
    <!--<link rel="stylesheet" type="text/css" href="../css/bootstrap.min.css">-->
    <link rel="stylesheet" type="text/css" href="../css/modern-business.css">
    <link rel="stylesheet" type="text/css" href="../css/lavish-bootstrap.css">
    <link rel="stylesheet" type="text/css" href="../css/customstyles.css">
    <link rel="stylesheet" type="text/css" href="../css/theme-blue.css">
    <script src="../js/jquery.min.js"></script>
    <script src="../js/jquery.cookie.min.js"></script>
    <script src="../js/jquery.navgoco.min.js"></script>
    <script src="../js/bootstrap.min.js"></script>
    <script src="../js/anchor.min.js"></script>
    <script src="../js/toc.js"></script>
    <script src="../js/customscripts.js"></script>
    <link rel="shortcut icon" href="../common_images/favicon.ico" type="image/x-icon">
    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->
    <script>
    $(function() {
        $('[data-toggle="tooltip"]').tooltip()
    })
    </script>
</head>

<body>
    <!-- Navigation -->
    <nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
        <div class="container topnavlinks">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="fa fa-home fa-lg navbar-brand" href="home.html">&nbsp;<span class="projectTitle"> Vecode v1.1.1</span></a>
            </div>
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav navbar-right">
                    <!-- entries without drop-downs appear here -->
                    <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                    <li><a href="../cn/use_quartz_code.html">Chinese</a></li>
                    <li><a href="https://github.com/DumbDuck/VecodeKit" target="_blank">VecodeKit</a></li>
                    <!-- entries with drop-downs appear here -->
                    <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                    <li class="dropdown">
                        <!-- special insertion -->
                        <!-- Send feedback function -->
                        <script>
                        function SendLinkByMail(href) {
                            var subject = "Vecode Help feedback";
                            var body = "I have some feedback about the Use the Exported Drawing Code in iOS/Mac Project page: ";
                            body += window.location.href;
                            body += "";
                            var uri = "mailto:dumbduck@126.com?subject=";
                            uri += "Vecode Feedback";
                            uri += "&body=";
                            uri += "";
                            window.location.href = uri;
                        }
                        </script>
                        <li><a href="javascript:(function()%7BSendLinkByMail()%3B%7D)()%3B" target="_blank"><i class="fa fa-envelope-o"></i> Feedback</a></li>
            </div>
            <!-- /.container -->
    </nav>
    <!-- Page Content -->
    <div class="container">
        <div class="col-lg-12">&nbsp;</div>
        <!-- Content Row -->
        <div class="row">
            <!-- Sidebar Column -->
            <div class="col-md-3">
                <script>
                $(document).ready(function() {
                    // Initialize navgoco with default options
                    $("#mysidebar").navgoco({
                        caretHtml: '',
                        accordion: true,
                        openClass: 'active', // open
                        save: false, // leave false or nav highlighting doesn't work right
                        cookie: {
                            name: 'navgoco',
                            expires: false,
                            path: '/'
                        },
                        slide: {
                            duration: 400,
                            easing: 'swing'
                        }
                    });

                    $("#collapseAll").click(function(e) {
                        e.preventDefault();
                        $("#mysidebar").navgoco('toggle', false);
                    });

                    $("#expandAll").click(function(e) {
                        e.preventDefault();
                        $("#mysidebar").navgoco('toggle', true);
                    });

                });
                </script>
                <ul id="mysidebar" class="nav">
                    <span class="siteTagline"></span>
                    <span class="versionTagline"></span>
                    <li><a href="#">Help</a>
                        <ul>
                            <li><a href="../en/home.html">Introduction</a></li>
                            <li><a href="../en/use_vecode.html">Use Vecode</a></li>
                            <li class="active"><a href="../en/use_quartz_code.html">Use the Exported Drawing Code in iOS/Mac Project</a></li>
                            <li><a href="../en/use_android_graphics_code.html">Use the Exported Drawing Code in Android Project</a></li>
                            <li><a href="../en/version_history.html">Version History</a></li>
                        </ul>
                        <!-- if you aren't using the accordion, uncomment this block:

                     <p class="external">
                         <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
                     </p>
                 -->
            </div>
            <!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
            <script>
            $("li.active").parents('li').toggleClass("active");
            </script>
            <!-- Content Column -->
            <div class="col-md-9">
                <div class="post-header">
                    <h1 class="post-title-main">Use the Exported Drawing Code in iOS/Mac Project</h1>
                </div>
                <div class="post-content">
                    <!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
                    <script>
                    $(document).ready(function() {
                        // Handler for .ready() called.

                        $('#toc').toc({
                            minimumHeaders: 0,
                            listType: 'ul',
                            showSpeed: 0,
                            headers: 'h2,h3,h4'
                        });

                        /* this offset helps account for the space taken up by the floating toolbar. */
                        $('#toc').on('click', 'a', function() {
                            var target = $(this.getAttribute('href')),
                                scroll_target = target.offset().top

                            $(window).scrollTop(scroll_target - 10);
                            return false
                        })

                    });
                    </script>
                    <div id="toc"></div>
                    <p>For more informations about how to export Quartz code, please go to <a href="./use_vecode.html#export_anchor">here</a>.</p>
                    <p>Suppose we exported Quartz code (Swift) choosing the name <b>tiger</b>, and exported a document named <b>tiger.swf</b>, in which created an Object <code>g_picture_tiger</code>, type is <code>VKQuartzPicture</code>:</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">public let g_picture_tiger = VKQuartzPicture(bounds: xxxx)
</code></pre></div>
                    <p>If chosen Quartz code (Objective-C), a similar Object would be created as well:</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">CG_EXTERN VKQuartzPicture g_picture_tiger;
</code></pre></div>
                    <p>Now we still missing <code>VKQuartzPicture</code> code, which can be found in VecodeKit.</p>
                    <h2 id="get-veocdekit">Get VeocdeKit</h2>
                    <p>You can download the latest VecodeKit on <a href="https://github.com/DumbDuck/VecodeKit">GitHub </a>, or click the menu item <b>Copy VecodeKit...</b> and copy it into local computor.</p>
                    <p>
                        <image src="../images/vecodekit_menu.png" width="416" />
                    </p>
                    <p>After decompressing, the codes under the VecodeKit/iOS_Mac/QuartzPicture directory defines <code>VKQuartzPicture</code>. </p>
                    <p>FYI VecodeKit/iOS_Mac/QuartzPictureExample serve as <a href="./home.html#mac_example_anchor">project example</a>, showing how to use the exported drawing code.</p>
                    <h2 id="how-to-use-quartzpicture">How to Use QuartzPicture</h2>
                    <p>Add all codes in the folder QuartzPicture into your project, as well as the exported Quartz code.</p>
                    <p>For example, if we exported <b>tiger.swift</b> and created Object <code>g_picture_tiger</code>, after adding <b>tiger.swift</b> into the project, we can call the function:</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">VKQuartzPictureDrawInRect(g_picture_tiger, self.bounds, context, .ScaleAspectFit)
</code></pre></div>
                    <p>and draw the picture into the context.</p>
                    <p>Under sanbox restriction of Mac App Store, when choosing Quartz code (Objective-C), Vecode can only export a code file with .c suffix and cannot export the corresponding .h file. Therefore when using the .c drawing code, an extra declaration shall be added. e.g, after adding the exported tiger.c to your project, you shall add the extra declaration as follow: </p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">CG_EXTERN VKQuartzPicture g_picture_tiger;
</code></pre></div>
                    <p>The Downloads Folder of Mac is beyond the restriction. When choosing to save the exported code in the Downloads Folder, Vecode can export both .c and .h files at the same time.</p>
                    <p>
                        <image src="../images/downloads.png" width="150" />
                    </p>
                    <h3 id="tips">Tips:</h3>
                    <p>If a vector image contains too much details, generating numerous lines, such as 10 thousands and more, of drawing code, under such circumstance you can choose to export Quartz code (Objective-C) instead of Quartz code (Swift); otherwise you can also set the compile option <b>-O0</b> for a particular drawing code file, making it compile without optimization. Both ways could make the project compile faster.</p>
                    <h2 id="quartzpicture-api">QuartzPicture API</h2>
                    <h3 id="vkquartzpicture">VKQuartzPicture</h3>
                    <p>Including bounds, through</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">picture.bounds.size
</code></pre></div>
                    <p>we can obtain the raw size of the picture. e.g, if you want an 2x image, you can use a section of codes as following:</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">var rect = CGRectZero
rect.size = picture.bounds.size
rect.size.width *= 2
rect.size.height *= 2
VKQuartzPictureDrawInRect(picture, rect, context, .ScaleAspectFit)
</code></pre></div>
                    <h3 id="vkquartzpicturedrawinrect">VKQuartzPictureDrawInRect</h3>
                    <p>This is the core function, which draws the picture into the context.</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">func VKQuartzPictureDrawInRect(picture   : VKQuartzPicture,
                               _ rect    : CGRect,
                               _ context : CGContextRef,
                               _ mode    : VKPictureContentMode)
</code></pre></div>
                    <p>The parameter <b>picture</b> signifies the to-be-drawn image, which is exported from Vecode; the parameter <b>rect</b> signifies the area of the picture; and the parameter <b>context</b> the drawing enviornment.</p>
                    <p>The meaning of the last parameter is similar with <code>UIViewContentMode</code>, which explains how to resize the image in the convenience of adapting the introduction of rect.</p>
                    <p>A tiger picture as bellow, is being drawn in the same rect (red frame), but with different modes, different results will be precented:</p>
                    <p>
                        <image src="../images/tiger.png" width="250" />
                    </p>
                    <table border="1px" style="table-layout:fixed;width:100%">
                        <tr border="0" style="text-align:center">
                            <td border="0" style="width:25%">ScaleToFill</th>
                                <td border="0" style="width:25%">ScaleAspectFit</th>
                                    <td border="0" style="width:25%">ScaleAspectFill</th>
                                        <td border="0" style="width:25%">Center</th>
                        </tr>
                        <tr border="0">
                            <td border="0" style="width:25%"><img src="../images/ScaleToFill.png" border="0" width="100%"></td>
                            <td border="0" style="width:25%"><img src="../images/ScaleAspectFit.png" border="0" width="100%"></td>
                            <td border="0" style="width:25%"><img src="../images/ScaleAspectFill.png" border="0" width="100%"></td>
                            <td border="0" style="width:25%"><img src="../images/ScaleCenter.png" border="0" width="100%"></td>
                        </tr>
                    </table>
                    <h3 id="extension-function-amp-classes">Extension Function &amp; Classes</h3>
                    <p>QuartzPicture/ext has realized certain amount of Extension Functiones &amp; Classes.</p>
                    <p>VKQuartzPictureImage turns VKQuartzPicture into UIImage(iOS) or NSImage(mac).</p>
                    <div class="highlight"><pre><code class="language-text" data-lang="text">func transToImage(size    : CGSize,
                  _ color : UIColor,
                  _ mode  : VKPictureContentMode = .ScaleAspectFit) -&gt; UIImage
</code></pre></div>
                    <p>The &quot;size&quot; within this function is the image size, and check <a href="./use_vecode.html#quartz_code_anchor">here</a> to see meaning of &quot;color&quot;.</p>
                    <p>VKQuartzPictureView draws VKQuartzPicture into UIView(iOS) or NSView(Mac).</p>
                    <!-- <div class="tags">
    
</div> -->
                </div>
                <footer>
                    <!--             <div class="row">
                <div class="col-lg-12 footer">
               &copy;2016 Your company. All rights reserved. <br />
 Site last generated: Apr 22, 2016 <br />
<p><img src="../../common_images/company_logo.png"/></p>
                </div>
            </div> -->
                </footer>
            </div>
            <!-- /.row -->
        </div>
        <!-- /.container -->
</body>

</html>
